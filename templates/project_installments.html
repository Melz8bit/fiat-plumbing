<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        * {
            font-family: "Raleway", sans-serif;
        }

        /* #installmentTable>tbody>tr>td {
            background-color: white;
        }

        #installmentTable>tbody>tr:nth-child(4n+1)>td,
        #installmentTable>tbody>tr:nth-child(4n+2)>td {
            background-color: #F9F9F9;
        } */
    </style>
</head>

<body>
    <!-- Installments -->
    <div>
        <table class="table table-striped" id="installmentTable">
            <thead>
                <tr class="text-center">
                    <th>#</th>
                    <th class="text-start">Description</th>
                    <th>Amount</th>
                    <th>Status</th>
                    <th>Status Date</th>
                </tr>
            </thead>

            <tbody>
                {% if installments|length == 0 %}
                <tr>
                    <td class="text-center" colspan="100%">
                        No installments have been created
                    </td>
                </tr>
                {% else %}
                {% for installment in installments %}
                <tr class="text-center">
                    <td>{{ installment['installment_number'] }}</td>
                    <td class="text-start">{{ installment['installment_description'] }}</td>
                    <td>{{ "${:,.2f}".format(installment['installment_amount']) }}</td>
                    <td>{{ installment['installment_status'] | capitalize }}</td>
                    <td>{{ installment['installment_status_date'].strftime('%m/%d/%Y') }}</td>
                </tr>
                {% endfor %}
                {% endif %}
            </tbody>

            <tfoot>
                <td></td>
                <th class="text-end">Project Total:</th>
                <td class="text-center">{{ "${:,.2f}".format(project_total) }}</td>
                <td></td>
                <td></td>
            </tfoot>
        </table>

        {% if project_total > 0 %}
        {% set project_progress = (payments_total / project_total) * 100 %}
        {% else %}
        {% set project_progress = 0 %}
        {% endif %}
        <table class="table table-striped">
            <thead class="text-center">
                <th>Total Received</th>
                <th></th>
                <th>Amount Remaining</th>
                <th></th>
            </thead>

            <tbody>
                <td class="text-center">{{ "${:,.2f}".format(payments_total) }}</td>
                <td></td>
                <td class="text-center">{{ "${:,.2f}".format(project_total - payments_total) }}</td>
                <td></td>
            </tbody>

            <tfoot>
                <td colspan="100%">
                    <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25"
                        aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-bar" style="width: {{ project_progress }}%">
                            {{ "{:,.2f}".format(project_progress) }}%
                        </div>
                    </div>
                </td>
            </tfoot>
        </table>
    </div>

</body>

</html>